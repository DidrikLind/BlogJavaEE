<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<title>Post Page</title>
</h:head>

<h:body>
	
		<h:form>
			<h:panelGrid id="panel" columns="3">
			
				<f:facet name="header">
					<h:outputText value="Login" />
				</f:facet>
				
				<h:outputLabel>Username</h:outputLabel>
				<h:inputText value="#{authorController.theAuthor.username}" required="true" id="user"
					requiredMessage="Enter Username in order to login!"/>
				<h:message for="user"/>
				
				<h:outputLabel>Password</h:outputLabel>
				<h:inputText value="#{authorController.theAuthor.password}" required="true" id="password"
					requiredMessage="Enter Password in order to login!"/>
				<h:message for="password"/>
						
				<f:facet name="footer">
	                <h:commandButton value="Login" action="#{authorController.authenticateAuthor()}"/>
	            </f:facet>		
			</h:panelGrid>
		</h:form>
		<hr/>
		<h:form>
			<h:commandLink action="#{authorController.toRegisterPage()}" value="Register yourself!" />
			<h:commandButton action="home_page?faces-redirect=true" value="Home" />
		</h:form>
		<hr/>
		<h1>A Post</h1>
		<hr/>
		<hr/>
		

		Title : <h:outputText value="#{postController.thePost.title}"/><br/>
		Post : <h:outputText value="#{postController.thePost.post}"/><br/>
		<!--  Date : <h:outputText value="#{postController.thePost.timestamp.getTime().getDate()}/#{aPost.timestamp.getTime().getMonth()} #{aPost.timestamp.getTime().getYear()+1900}"/>
		<br/>-->
		Date: <h:outputText value="#{postController.thePost.getSimpleFormatDateStr()}"/><br/>
		Author : <h:outputText value="#{postController.thePost.author.username}"/><br/>
		<br/>
		Comments :<br/>
		<ui:repeat value="#{postController.thePost.comments}" var="aComment" >
			<br/>
			<h:outputText value="#{aComment.name}"/><br/>
			<h:outputText value="#{aComment.email}"/><br/>
			<h:outputText value="#{aComment.comment}"/><br/>
			<h:outputText value="#{aComment.getSimpleFormatDateStr()}"/><br/>
		</ui:repeat>
		
		<h:form>
			<h:panelGrid id="panel" columns="3">
			
				<f:facet name="header">
					<h:outputText value="Add a comment" />
				</f:facet>
				
				<h:outputLabel>Your name:</h:outputLabel>
				<h:inputText value="#{commentController.theComment.name}" required="true" id="name"
					requiredMessage="Enter a name in order to make a comment!"/>
				<h:message for="name"/>
				
				<h:outputLabel>Your comment:</h:outputLabel>
				<h:inputTextarea value="#{commentController.theComment.comment}" required="true" id="comment"
					requiredMessage="Enter something in the comment in order to make a comment!"/>
				<h:message for="comment"/>
				
				<h:outputLabel>Your email:</h:outputLabel>
				<h:inputText value="#{commentController.theComment.email}" required="true" id="email"
					requiredMessage="Enter an email in order to make a comment!"/>
				<h:message for="email"/>				
					
				<f:facet name="footer">
	                <h:commandButton value="Submit comment" action="#{commentController.createComment()}"/>
	            </f:facet>
	            	
			</h:panelGrid>
		</h:form>
		<hr/>
		<hr/>

			

</h:body>
</html>
